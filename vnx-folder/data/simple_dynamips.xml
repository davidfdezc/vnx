<?xml version="1.0" encoding="UTF-8"?>

<!--

Simple scenario
Just one Cisco 3640 virtual machine. Use this specification for testing

-->

<vnx xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
     xsi:noNamespaceSchemaLocation="/usr/share/xml/vnx/vnx-1.96.xsd">
  <global>
    <version>1.92</version>
    <scenario_name>simple_dynamips</scenario_name>
    <automac offset="10"/>
    <vm_mgmt type="none" />
    <vm_defaults exec_mode="mconsole">
	</vm_defaults>
    <dynamips_ext>simple_dynamips-dn.xml</dynamips_ext>
  </global>
  
  <net name="Net0" mode="virtual_bridge" />
    
  <!-- NODES -->
  <vm name="cisco" type="dynamips" subtype="3600" os="">
	<filesystem type="cow">/usr/share/vnx/filesystems/c3640</filesystem>
	<mem>96M</mem>
  	<console id="1" display="yes"/>
	<if id="0" net="vm_mgmt" name="e0/0"/>
	<if id="1" net="Net0" name="e0/1">
		<ipv4>10.0.0.10/24</ipv4>
		<ipv6>2001:db8::10/64</ipv6>
    </if>
    <exec seq="brief"    type="verbatim" mode="telnet" ostype="show">show ip interface brief</exec>
    <exec seq="showcfg"  type="verbatim" mode="telnet" ostype="show">show running-config</exec>
    <exec seq="hostname" type="verbatim" mode="telnet" ostype="set" >hostname Router1</exec>
    <exec seq="cmdfile"  type="file"     mode="telnet" ostype="show" >conf/cisco-cmd-file.conf</exec>
    <exec seq="cmdfile2" type="file"     mode="telnet" ostype="set"  >conf/cisco-cmd-file2.conf</exec>
    <exec seq="loadcfg"  type="verbatim" mode="telnet" ostype="load">conf/cisco.conf</exec>
  </vm>

  <host>
    <hostif net="Net0">
       <ipv4>10.0.0.1/24</ipv4>
    </hostif>
  </host>  

</vnx>
